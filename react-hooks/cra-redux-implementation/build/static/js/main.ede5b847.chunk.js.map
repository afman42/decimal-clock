{"version":3,"sources":["reducer.js","DecimalClock.js","index.js"],"names":["initialState","timeofday","fractionofday","timestring","setRequestAnimationFrame","payload","type","requestAnimationFrame","combineReducers","decimal","state","action","makeArray","length","Array","arrOfTen","arrOfHundred","DecimalClock","dispatch","useDispatch","frameRequest","useRef","useState","Date","date","setDate","getHours","getMinutes","getSeconds","getMilliseconds","setTimeOfDay","timeOfDay","useSelector","setFractionOfDay","fractionOfDay","Math","floor","toString","padStart","setTimeString","timeString","update","current","useEffect","cancelAnimationFrame","id","map","_","i","className","style","left","sin","PI","top","cos","transform","store","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ede5b847.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\n\nconst initialState = {\n  timeofday: null,\n  fractionofday: null,\n  timestring: null,\n};\n\n//Actions\nexport const setTimeOfDay = (date) => {\n  return {\n    type: \"TIME_OF_DAY\",\n    payload:\n      (date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds()) *\n        1000 +\n      date.getMilliseconds(),\n  };\n};\n\nexport const setFractionOfDay = (timeOfDay) => {\n  return {\n    type: \"FRACTION_OF_DAY\",\n    payload: timeOfDay / 86400_000,\n  };\n};\n\nexport const setTimeString = (fractionOfDay) => {\n  return {\n    type: \"TIME_STRING\",\n    payload: `${Math.floor(fractionOfDay * 10)}:${Math.floor(\n      (fractionOfDay * 1_000) % 100\n    )\n      .toString()\n      .padStart(2, \"0\")}:${Math.floor((fractionOfDay * 100_000) % 100)\n      .toString()\n      .padStart(2, \"0\")}`,\n  };\n};\n\nexport const setRequestAnimationFrame = (payload) => {\n  return {\n    type: \"SET_REQUEST_ANIMATION_FRAME\",\n    payload: requestAnimationFrame(payload)\n  }\n}\n\n//Reducer\nconst decimalClock = (state = initialState, action) => {\n  switch (action.type) {\n    case \"TIME_OF_DAY\":\n      return {\n        ...state,\n        timeofday: action.payload,\n      };\n    case \"FRACTION_OF_DAY\":\n      return {\n        ...state,\n        fractionofday: action.payload,\n      };\n    case \"TIME_STRING\":\n      return {\n        ...state,\n        timestring: action.payload,\n      };\n    case \"SET_REQUEST_ANIMATION_FRAME\":\n      return {\n        ...state,\n      };\n    default: {\n      return { ...state };\n    }\n  }\n};\n\nexport default combineReducers({\n  decimal: decimalClock,\n});\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setTimeOfDay, setFractionOfDay, setTimeString, setRequestAnimationFrame } from \"./reducer\";\n\nconst makeArray = (length) => [...Array(length)];\n\nconst arrOfTen = makeArray(10);\nconst arrOfHundred = makeArray(100);\nconst DecimalClock = () => {\n  const dispatch = useDispatch()\n  const frameRequest = useRef(null);\n  const [date, setDate] = useState(new Date());\n  dispatch(setTimeOfDay(date))\n  const timeOfDay = useSelector((state) => state.decimal.timeofday)\n  dispatch(setFractionOfDay(timeOfDay))\n  const fractionOfDay = useSelector((state) => state.decimal.fractionofday)\n  dispatch(setTimeString(fractionOfDay))\n  const timeString = useSelector((state) => state.decimal.timestring)\n\n  const update = () => {\n    setDate(new Date());\n    frameRequest.current = dispatch(setRequestAnimationFrame(update));\n  };\n\n  useEffect(() => {\n    frameRequest.current = dispatch(setRequestAnimationFrame(update));\n\n    return () => {\n      cancelAnimationFrame(frameRequest.current);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <h2>Decimal Clock</h2>\n      <div id=\"clock-face\">\n        {arrOfTen.map((_, i) => (\n          <div\n            key={i}\n            className=\"digit\"\n            style={{\n              left: 50 - Math.sin((Math.PI * i) / 5) * 40 + \"%\",\n              top: 50 + Math.cos((Math.PI * i) / 5) * 40 + \"%\",\n            }}\n          >\n            {i}\n          </div>\n        ))}\n\n        {arrOfHundred.map((_, i) => (\n          <div\n            key={i}\n            className={i % 10 === 0 ? \"large tick\" : \"tick\"}\n            style={{ transform: `rotate(${i * 3.6}deg)` }}\n          />\n        ))}\n\n        {timeString !== null && (\n          <>\n            <div\n              id=\"short-hand\"\n              style={{ transform: `rotate(${fractionOfDay * 360 + 180}deg)` }}\n            />\n\n            <div\n              id=\"long-hand\"\n              style={{\n                transform: `rotate(${\n                  ((fractionOfDay * 10) % 1) * 360 + 180\n                }deg)`,\n              }}\n            />\n\n            <div\n              id=\"second-hand\"\n              style={{\n                transform: `rotate(${\n                  ((fractionOfDay * 1000) % 1) * 360 + 180\n                }deg)`,\n              }}\n            />\n          </>\n        )}\n      </div>\n      {timeString !== null && <h1 id=\"clock-time\">{timeString}</h1>}\n    </>\n  );\n};\n\nexport default DecimalClock","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport DecimalClock from \"./DecimalClock\";\nimport { createStore } from 'redux'\nimport rootReducer from './reducer'\nimport { Provider } from 'react-redux'\nconst store = createStore(rootReducer,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <DecimalClock />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}